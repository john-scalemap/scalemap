# ScaleMap Fullstack Architecture Document

## Table of Contents

- [ScaleMap Fullstack Architecture Document](#table-of-contents)
  - [Introduction](./introduction.md)
    - [Starter Template or Existing Project](./introduction.md#starter-template-or-existing-project)
    - [Change Log](./introduction.md#change-log)
  - [High Level Architecture](./high-level-architecture.md)
    - [Technical Summary](./high-level-architecture.md#technical-summary)
    - [Platform and Infrastructure Choice](./high-level-architecture.md#platform-and-infrastructure-choice)
    - [Agent Orchestration System](./high-level-architecture.md#agent-orchestration-system)
    - [Perfect Prioritization Algorithm](./high-level-architecture.md#perfect-prioritization-algorithm)
    - [Assessment Questions Database & Branching Logic](./high-level-architecture.md#assessment-questions-database-branching-logic)
    - [Agent Personas Database & UI Integration](./high-level-architecture.md#agent-personas-database-ui-integration)
    - [Quality Gates & Validation System](./high-level-architecture.md#quality-gates-validation-system)
    - [Timeline Management & 72-Hour Delivery Pipeline](./high-level-architecture.md#timeline-management-72-hour-delivery-pipeline)
    - [Content Integration & Dynamic Report Generation](./high-level-architecture.md#content-integration-dynamic-report-generation)
  - [Coding Standards](./coding-standards.md)
    - [Overview](./coding-standards.md#overview)
    - [TypeScript/JavaScript Standards](./coding-standards.md#typescriptjavascript-standards)
    - [Agent System Standards](./coding-standards.md#agent-system-standards)
    - [Perfect Prioritization Algorithm Standards](./coding-standards.md#perfect-prioritization-algorithm-standards)
    - [Security & Privacy Standards](./coding-standards.md#security-privacy-standards)
    - [Performance Standards](./coding-standards.md#performance-standards)
    - [Testing Standards](./coding-standards.md#testing-standards)
    - [Error Handling Standards](./coding-standards.md#error-handling-standards)
    - [Monitoring Standards](./coding-standards.md#monitoring-standards)
    - [Repository Structure](./coding-standards.md#repository-structure)
    - [High Level Architecture Diagram](./coding-standards.md#high-level-architecture-diagram)
    - [Architectural Patterns](./coding-standards.md#architectural-patterns)
  - [Tech Stack](./tech-stack.md)
  - [Data Models](./data-models.md)
  - [API Specification](./api-specification.md)
    - [REST API Specification](./api-specification.md#rest-api-specification)
  - [Components](./components.md)
    - [Authentication & Authorization Service](./components.md#authentication-authorization-service)
    - [Assessment Engine Service](./components.md#assessment-engine-service)
    - [Document Processing Service](./components.md#document-processing-service)
    - [Domain Triage Service](./components.md#domain-triage-service)
    - [Agent Orchestration Service](./components.md#agent-orchestration-service)
    - [Agent Pool Services (12 Specialist Agents)](./components.md#agent-pool-services-12-specialist-agents)
    - [Perfect Prioritization Service](./components.md#perfect-prioritization-service)
    - [Client Validation Service](./components.md#client-validation-service)
    - [Delivery Pipeline Service](./components.md#delivery-pipeline-service)
    - [Payment Processing Service](./components.md#payment-processing-service)
    - [Business Analytics Service](./components.md#business-analytics-service)
    - [Real-time Communication Service](./components.md#real-time-communication-service)
    - [Component Integration Diagram](./components.md#component-integration-diagram)
  - [External APIs](./external-apis.md)
    - [OpenAI API Integration](./external-apis.md#openai-api-integration)
    - [Stripe API Integration](./external-apis.md#stripe-api-integration)
    - [AWS SES (Email Service) Integration](./external-apis.md#aws-ses-email-service-integration)
    - [AWS Textract Integration](./external-apis.md#aws-textract-integration)
    - [Additional External Integrations](./external-apis.md#additional-external-integrations)
    - [GitHub API (Optional - Future Enhancement)](./external-apis.md#github-api-optional-future-enhancement)
    - [Industry Data APIs (Future Integration)](./external-apis.md#industry-data-apis-future-integration)
    - [External API Error Handling Strategy](./external-apis.md#external-api-error-handling-strategy)
    - [Cost Monitoring and Optimization](./external-apis.md#cost-monitoring-and-optimization)
  - [Core Workflows](./core-workflows.md)
    - [Complete Assessment Pipeline (72-Hour Journey)](./core-workflows.md#complete-assessment-pipeline-72-hour-journey)
    - [Agent Orchestration Workflow (Multi-Agent Coordination)](./core-workflows.md#agent-orchestration-workflow-multi-agent-coordination)
    - [Document Processing & Agent Integration Workflow](./core-workflows.md#document-processing-agent-integration-workflow)
    - [Payment & Assessment Activation Workflow](./core-workflows.md#payment-assessment-activation-workflow)
    - [Client Validation & Feedback Integration Workflow](./core-workflows.md#client-validation-feedback-integration-workflow)
    - [Real-Time Progress Communication Workflow](./core-workflows.md#real-time-progress-communication-workflow)
    - [Error Handling & Recovery Workflow](./core-workflows.md#error-handling-recovery-workflow)
  - [Key Workflow Characteristics](./key-workflow-characteristics.md)
    - [üïí Time-Based Orchestration](./key-workflow-characteristics.md#time-based-orchestration)
    - [ü§ñ Intelligent Agent Coordination](./key-workflow-characteristics.md#intelligent-agent-coordination)
    - [üîÑ Client Feedback Integration](./key-workflow-characteristics.md#client-feedback-integration)
    - [üõ°Ô∏è Resilience & Quality Assurance](./key-workflow-characteristics.md#resilience-quality-assurance)
  - [Database Schema](./database-schema.md)
    - [DynamoDB Table Design (Single Table Pattern)](./database-schema.md#dynamodb-table-design-single-table-pattern)
      - [Primary Table: ](./database-schema.md#primary-table)
    - [Entity Access Patterns](./database-schema.md#entity-access-patterns)
      - [Companies](./database-schema.md#companies)
      - [Assessments](./database-schema.md#assessments)
      - [Agent Analysis Results](./database-schema.md#agent-analysis-results)
      - [Documents](./database-schema.md#documents)
      - [Triage Results](./database-schema.md#triage-results)
      - [Perfect Prioritization Results](./database-schema.md#perfect-prioritization-results)
      - [Clarification Requests](./database-schema.md#clarification-requests)
      - [Agent Personas (Configuration Data)](./database-schema.md#agent-personas-configuration-data)
    - [Global Secondary Indexes (GSI)](./database-schema.md#global-secondary-indexes-gsi)
      - [GSI1: User and Company Lookups](./database-schema.md#gsi1-user-and-company-lookups)
      - [GSI2: Status and Time-based Queries](./database-schema.md#gsi2-status-and-time-based-queries)
    - [Query Patterns Examples](./database-schema.md#query-patterns-examples)
    - [PostgreSQL Migration Schema (Future)](./database-schema.md#postgresql-migration-schema-future)
    - [Data Lifecycle Management](./database-schema.md#data-lifecycle-management)
      - [TTL (Time-To-Live) Strategy](./database-schema.md#ttl-time-to-live-strategy)
      - [GDPR Compliance](./database-schema.md#gdpr-compliance)
      - [Timeline Management & Business Rules](./database-schema.md#timeline-management-business-rules)
  - [Frontend Architecture](./frontend-architecture.md)
    - [Component Architecture](./frontend-architecture.md#component-architecture)
      - [Component Organization](./frontend-architecture.md#component-organization)
      - [Component Template (Feature Component)](./frontend-architecture.md#component-template-feature-component)
    - [State Management Architecture](./frontend-architecture.md#state-management-architecture)
      - [State Structure](./frontend-architecture.md#state-structure)
      - [State Management Patterns](./frontend-architecture.md#state-management-patterns)
    - [Routing Architecture](./frontend-architecture.md#routing-architecture)
      - [Route Organization](./frontend-architecture.md#route-organization)
      - [Protected Route Pattern](./frontend-architecture.md#protected-route-pattern)
    - [Frontend Services Layer](./frontend-architecture.md#frontend-services-layer)
      - [API Client Setup](./frontend-architecture.md#api-client-setup)
      - [Service Example (Assessment Service)](./frontend-architecture.md#service-example-assessment-service)
    - [Real-time Progress Integration](./frontend-architecture.md#real-time-progress-integration)
  - [Backend Architecture](./backend-architecture.md)
    - [Lambda Function Architecture](./backend-architecture.md#lambda-function-architecture)
      - [Function Organization](./backend-architecture.md#function-organization)
    - [Lambda Function Templates](./backend-architecture.md#lambda-function-templates)
      - [Standard Lambda Function Template](./backend-architecture.md#standard-lambda-function-template)
      - [Agent Function Template](./backend-architecture.md#agent-function-template)
    - [Event-Driven Orchestration](./backend-architecture.md#event-driven-orchestration)
      - [Orchestration Patterns](./backend-architecture.md#orchestration-patterns)
    - [Service Layer Architecture](./backend-architecture.md#service-layer-architecture)
      - [DynamoDB Service](./backend-architecture.md#dynamodb-service)
    - [Error Handling and Monitoring](./backend-architecture.md#error-handling-and-monitoring)
  - [Unified Project Structure](./unified-project-structure.md)
    - [Complete Repository Structure](./unified-project-structure.md#complete-repository-structure)
    - [Package Dependencies and Relationships](./unified-project-structure.md#package-dependencies-and-relationships)
    - [Turborepo Configuration](./unified-project-structure.md#turborepo-configuration)
    - [Shared Type System](./unified-project-structure.md#shared-type-system)
    - [Development Workflow Integration](./unified-project-structure.md#development-workflow-integration)
    - [Cross-Package Communication](./unified-project-structure.md#cross-package-communication)
    - [Build and Deployment Orchestration](./unified-project-structure.md#build-and-deployment-orchestration)
    - [Environment Configuration](./unified-project-structure.md#environment-configuration)
  - [Development Workflow](./development-workflow.md)
    - [Local Development Setup](./development-workflow.md#local-development-setup)
      - [Prerequisites and Environment Setup](./development-workflow.md#prerequisites-and-environment-setup)
      - [Local Services Setup](./development-workflow.md#local-services-setup)
      - [Development Server Architecture](./development-workflow.md#development-server-architecture)
    - [Development Workflow Patterns](./development-workflow.md#development-workflow-patterns)
      - [Feature Development Cycle](./development-workflow.md#feature-development-cycle)
      - [Code Quality Gates](./development-workflow.md#code-quality-gates)
      - [Continuous Integration Workflow](./development-workflow.md#continuous-integration-workflow)
    - [Testing Workflow](./development-workflow.md#testing-workflow)
      - [Test Structure and Strategy](./development-workflow.md#test-structure-and-strategy)
      - [Testing Commands and Scripts](./development-workflow.md#testing-commands-and-scripts)
    - [Code Review and Collaboration](./development-workflow.md#code-review-and-collaboration)
      - [Pull Request Workflow](./development-workflow.md#pull-request-workflow)
      - [Code Review Standards](./development-workflow.md#code-review-standards)
    - [Environment Management](./development-workflow.md#environment-management)
      - [Development, Staging, and Production Environments](./development-workflow.md#development-staging-and-production-environments)
    - [Database Migration and Schema Evolution](./development-workflow.md#database-migration-and-schema-evolution)
      - [Schema Version Management](./development-workflow.md#schema-version-management)
    - [Performance Monitoring and Debugging](./development-workflow.md#performance-monitoring-and-debugging)
      - [Development Performance Tools](./development-workflow.md#development-performance-tools)
  - [Deployment Architecture](./deployment-architecture.md)
    - [Infrastructure as Code (AWS CDK)](./deployment-architecture.md#infrastructure-as-code-aws-cdk)
    - [Environment Configuration](./deployment-architecture.md#environment-configuration)
    - [CI/CD Pipeline](./deployment-architecture.md#cicd-pipeline)
    - [Blue-Green Deployment](./deployment-architecture.md#blue-green-deployment)
  - [Security and Performance](./security-and-performance.md)
  - [Testing Strategy](./testing-strategy.md)
  - [Coding Standards](./coding-standards.md)
  - [Error Handling Strategy](./error-handling-strategy.md)
  - [Monitoring and Observability](./monitoring-and-observability.md)
  - [Checklist Results Report](./checklist-results-report.md)
